webpackJsonp([1],{0:function(t,e,n){t.exports=n("x35b")},D64s:function(t,e){},cIxy:function(t,e){},f4MU:function(t,e){},qviR:function(t,e){},vCuv:function(t,e){},wTG7:function(t,e){},x35b:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("/5sW"),i=s["a"].extend({name:"navi",props:{list:Array}}),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navi"},t._l(t.list,function(e,s){return n("router-link",{key:s,attrs:{to:e.path}},[t._v("\n     "+t._s(e.name.replace(/^[a-z]/g,function(t){return t.toUpperCase()}))+"\n   ")])}))},r=[],o=n("XyMi");function l(t){n("cIxy")}var c=!1,u=l,h="data-v-5565a9f7",p=null,f=Object(o["a"])(i,a,r,c,u,h,p),d=f.exports,v=n("Z60a"),m=n.n(v),y=(n("SldL"),n("No4x"),n("C9uT")),g=n.n(y),_=(n("y9m4"),n("A0n/"),n("fx22"),n("mtWM")),k=n.n(_),w=function t(e,n,s){m()(this,t),this.id=e,this.title=n,this.thumbnailUrl=s,this.items=[]},x=function t(e,n,s,i){m()(this,t),this.videoId=e,this.title=n,this.description=s,this.thumbnailUrl=i},S=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))(function(i,a){function r(t){try{l(s.next(t))}catch(t){a(t)}}function o(t){try{l(s["throw"](t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(r,o)}l((s=s.apply(t,e||[])).next())})},b=function(){function t(){m()(this,t),this.key="AIzaSyAMo9pXJfO4aClAGbN0rOuO7QBvB435hdA"}return g()(t,[{key:"getPlaylistByUsername",value:function(t,e){return S(this,void 0,void 0,regeneratorRuntime.mark(function n(){var s,i;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,k()(this.channels_config(t));case 2:return s=n.sent,i=s.data.items[0].id,n.abrupt("return",this.getPlaylistByChannelId(i,e));case 5:case"end":return n.stop()}},n,this)}))}},{key:"getPlaylistByChannelId",value:function(t,e){return S(this,void 0,void 0,regeneratorRuntime.mark(function n(){var s,i,a,r,o,l,c,u,h,p;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,k()(this.playlists_config(t));case 2:s=n.sent,i=s.data.items.map(function(t){return new w(t.id,t.snippet.title,t.snippet.thumbnails.default.url)}),e.all=i.length,a=!0,r=!1,o=void 0,n.prev=8,l=i[Symbol.iterator]();case 10:if(a=(c=l.next()).done){n.next=21;break}return u=c.value,n.next=14,k()(this.playlistItems_config(u.id));case 14:h=n.sent,p=h.data.items.filter(function(t){return"Deleted video"!==t.snippet.title}),u.items=p.map(function(t){return new x(t.snippet.resourceId.videoId,t.snippet.title,t.snippet.description,t.snippet.thumbnails.default.url)}),e.now++;case 18:a=!0,n.next=10;break;case 21:n.next=27;break;case 23:n.prev=23,n.t0=n["catch"](8),r=!0,o=n.t0;case 27:n.prev=27,n.prev=28,a||null==l.return||l.return();case 30:if(n.prev=30,!r){n.next=33;break}throw o;case 33:return n.finish(30);case 34:return n.finish(27);case 35:return n.abrupt("return",i);case 36:case"end":return n.stop()}},n,this,[[8,23,27,35],[28,,30,34]])}))}},{key:"channels_config",value:function(t){var e={url:"https://www.googleapis.com/youtube/v3/channels",params:{part:"id",key:this.key,forUsername:t}};return e}},{key:"playlists_config",value:function(t){var e={url:"https://www.googleapis.com/youtube/v3/playlists",params:{part:"snippet",key:this.key,channelId:t,maxResults:50}};return e}},{key:"playlistItems_config",value:function(t){var e={url:"https://www.googleapis.com/youtube/v3/playlistItems",params:{part:"snippet",key:this.key,playlistId:t,maxResults:50}};return e}}]),t}(),C=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))(function(i,a){function r(t){try{l(s.next(t))}catch(t){a(t)}}function o(t){try{l(s["throw"](t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(r,o)}l((s=s.apply(t,e||[])).next())})},I=function(){function t(){m()(this,t),this.state={items:[],loadingState:{all:0,now:0},userSelectList:[],isExpands:[]},this.request=new b}return g()(t,[{key:"setItems",value:function(t){this.state.items=t}},{key:"setUserSelectItems",value:function(t){for(var e=t.length,n=new Array(e),s=0;s<e;s++)n[s]=new Array(t[s].items.length).fill(!1);this.state.userSelectList=n}},{key:"setIsExpand",value:function(t){var e=t.length;this.state.isExpands=new Array(e).fill(!1)}},{key:"initializeState",value:function(){this.state.items=[],this.state.userSelectList=[],this.state.loadingState.all=0,this.state.loadingState.now=0}},{key:"fetchByUsername",value:function(t){return C(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.initializeState(),e.next=3,this.request.getPlaylistByUsername(t,this.state.loadingState);case 3:n=e.sent,this.setItems(n),this.setUserSelectItems(n),this.setIsExpand(n);case 7:case"end":return e.stop()}},e,this)}))}},{key:"fetchByChannelId",value:function(t){return C(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.initializeState(),e.next=3,this.request.getPlaylistByChannelId(t,this.state.loadingState);case 3:n=e.sent,this.setItems(n),this.setUserSelectItems(n),this.setIsExpand(n);case 7:case"end":return e.stop()}},e,this)}))}},{key:"items",get:function(){return this.state.items}},{key:"loadingState",get:function(){return this.state.loadingState}},{key:"userSelectList",get:function(){return this.state.userSelectList}},{key:"isExpands",get:function(){return this.state.isExpands}}]),t}(),L=function(){function t(){m()(this,t),this.state={items:[]}}return g()(t,[{key:"setItems",value:function(t){this.state.items=t}},{key:"items",get:function(){return this.state.items}}]),t}(),E=function t(){m()(this,t),this.playlists=new I,this.nowplaying=new L},U=new E,P=[{name:"home",path:"/"},{name:"playlist",path:"/playlist"},{name:"player",path:"/player"}],A=s["a"].extend({name:"app",props:{store:{type:E}},data:function(){return{navlist:P}},components:{Navi:d}}),B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Navi",{attrs:{list:t.navlist}}),t._v(" "),n("router-view",{attrs:{store:t.store}})],1)},O=[];function R(t){n("D64s")}var $=!1,j=R,q=null,N=null,z=Object(o["a"])(A,B,O,$,j,q,N),G=z.exports,M=n("/ocq"),D=s["a"].extend({name:"home",props:{store:{type:E}},data:function(){return{username:"AnimeSongCollabo",channelId:""}},methods:{onClickUsername:function(){this.$router.push("playlist"),this.store.playlists.fetchByUsername(this.username).catch(function(t){alert(t.message)})},onClickChannelId:function(){this.$router.push("playlist"),this.store.playlists.fetchByChannelId(this.channelId).catch(function(t){alert(t.message)})}}}),T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("h2",[t._v("Username")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v(" "),n("button",{on:{"~click":function(e){t.onClickUsername(e)}}},[t._v("Go")]),t._v(" "),n("h2",[t._v("Channnel ID")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.channelId,expression:"channelId"}],domProps:{value:t.channelId},on:{input:function(e){e.target.composing||(t.channelId=e.target.value)}}}),t._v(" "),n("button",{on:{"~click":function(e){t.onClickChannelId(e)}}},[t._v("Go")])])},F=[];function J(t){n("wTG7")}var H=!1,Q=J,W="data-v-6e07ef38",X=null,V=Object(o["a"])(D,T,F,H,Q,W,X),Z=V.exports,K=n("rzQm"),Y=n.n(K),tt=s["a"].extend({name:"list",props:{store:E},data:function(){return{playlists:this.store.playlists.items,isExpands:this.store.playlists.isExpands,userSelectList:this.store.playlists.userSelectList}},methods:{onClickPlaylist:function(t){this.$router.push("player"),this.store.nowplaying.setItems(this.playlists[t].items)},toggleExpand:function(t){this.isExpands[t]=!this.isExpands[t],this.isExpands=Y()(this.isExpands)},addUserSelectList:function(t,e){this.userSelectList[t][e]=!this.userSelectList[t][e],this.userSelectList=Y()(this.userSelectList)},clearCheck:function(){for(var t=0;t<this.userSelectList.length;t++)for(var e=0;e<this.userSelectList[t].length;e++)this.userSelectList[t][e]=!1;this.userSelectList=Y()(this.userSelectList)},playCheck:function(){this.$router.push("player");for(var t=[],e=0;e<this.userSelectList.length;e++)for(var n=0;n<this.userSelectList[e].length;n++)this.userSelectList[e][n]&&t.push(this.playlists[e].items[n]);this.store.nowplaying.setItems(t)}}}),et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},[n("div",{staticClass:"control"},[n("div",{on:{click:t.clearCheck}},[n("v-icon",{attrs:{name:"x-square"}}),t._v("\n      Clear Check\n    ")],1),t._v(" "),n("div",{on:{click:t.playCheck}},[n("v-icon",{attrs:{name:"play-circle"}}),t._v("\n      Play Check\n    ")],1)]),t._v(" "),t._l(t.playlists,function(e,s){return n("div",{key:s},[n("h3",{staticClass:"playlist-title"},[n("span",{on:{click:function(e){t.toggleExpand(s)}}},[t.isExpands[s]?n("v-icon",{attrs:{name:"chevrons-up"}}):n("v-icon",{attrs:{name:"chevrons-down"}})],1),t._v("\n      "+t._s(e.title)+"\n      "),t._v(" "),n("span",{staticClass:"play",on:{click:function(e){t.onClickPlaylist(s)}}},[n("v-icon",{attrs:{name:"play-circle"}})],1)]),t._v(" "),t._l(e.items,function(e,i){return t.isExpands[s]?t._e():n("div",{key:i,staticClass:"video-title",on:{click:function(e){t.addUserSelectList(s,i)}}},[t._v("\n      "+t._s(e.title)+"\n      "),0!==t.userSelectList.length&&t.userSelectList[s][i]?n("v-icon",{attrs:{name:"check-circle"}}):t._e()],1)})],2)})],2)},nt=[];function st(t){n("qviR")}var it=!1,at=st,rt="data-v-1905a39b",ot=null,lt=Object(o["a"])(tt,et,nt,it,at,rt,ot),ct=lt.exports,ut=s["a"].extend({name:"playlist",props:{store:E},data:function(){return{playlists:this.store.playlists,loadingState:this.store.playlists.loadingState}},computed:{loading_percentage:function(){var t=this.loadingState.now,e=this.loadingState.all;return"".concat((t/e*100).toFixed(1))},loading:function(){return"".concat(this.loadingState.now," / ").concat(this.loadingState.all)}},components:{List:ct}}),ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"playlist"},[0===t.playlists.items.length&&0!==t.loadingState.all?n("div",[n("h1",{staticClass:"loading-percentage"},[t._v("\n      "+t._s(t.loading_percentage)+"\n      "),n("v-icon",{attrs:{name:"percent"}})],1),t._v(" "),n("h2",{staticClass:"loading"},[t._v(t._s(t.loading))])]):t._e(),t._v(" "),0!==t.playlists.items.length?n("List",{attrs:{store:t.store}}):t._e()],1)},pt=[];function ft(t){n("vCuv")}var dt=!1,vt=ft,mt="data-v-cc6ee962",yt=null,gt=Object(o["a"])(ut,ht,pt,dt,vt,mt,yt),_t=gt.exports,kt=s["a"].extend({name:"player",props:["store"],data:function(){return{items:[],playingItem:"",loop:!1,shuffle:!1}},mounted:function(){this.items=this.store.nowplaying.items;var t=this.items.map(function(t){return t.videoId});this.player.cuePlaylist(t),this.player.setVolume(5)},methods:{toggleLoop:function(){this.loop=!this.loop,this.player.setLoop(this.loop)},toggleShuffle:function(){this.shuffle=!this.shuffle,this.player.setShuffle(this.shuffle)}},computed:{player:function(){return this.$refs.youtube.player}}}),wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"player"},[n("youtube",{ref:"youtube",staticStyle:{width:"100%","max-width":"640px"}}),t._v(" "),n("br"),t._v(" "),n("span",{on:{click:t.toggleLoop}},[n("v-icon",{class:{enable:t.loop,disable:!t.loop},attrs:{name:"repeat"}})],1),t._v(" "),n("span",{on:{click:t.toggleShuffle}},[n("v-icon",{class:{enable:t.shuffle,disable:!t.shuffle},attrs:{name:"shuffle"}})],1)],1)},xt=[];function St(t){n("f4MU")}var bt=!1,Ct=St,It="data-v-41956e0b",Lt=null,Et=Object(o["a"])(kt,wt,xt,bt,Ct,It,Lt),Ut=Et.exports;s["a"].use(M["a"]);var Pt=new M["a"]({routes:[{path:"/",name:"home",component:Z},{path:"/playlist",name:"playlist",component:_t},{path:"/player",name:"player",component:Ut}]}),At=n("ydGU");Object(At["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var Bt=n("H5Ot"),Ot=n.n(Bt),Rt=n("yJzH");s["a"].config.productionTip=!1,s["a"].use(Ot.a),s["a"].use(Rt["a"],"v-icon"),new s["a"]({router:Pt,render:function(t){return t(G,{props:{store:U}})}}).$mount("#app")}},[0]);
//# sourceMappingURL=app.60a1702f.js.map